{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\src\\\\components\\\\profile\\\\profileStudent\\\\ProfileStudent.js\";\nimport * as React from \"react\";\nimport NavbarStudent from \"../../navbar/NavbarStudent\";\nimport Container from \"@material-ui/core/Container\";\nimport { connect } from \"react-redux\";\nimport \"./ProfileStudent.css\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { Student } from \"../../../model/Student\";\nimport { updateStudent } from \"../../../rest/userRest\";\n\nvar ProfileStudent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ProfileStudent, _React$Component);\n\n  function ProfileStudent(props) {\n    var _this;\n\n    _classCallCheck(this, ProfileStudent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProfileStudent).call(this, props));\n\n    _this.onEditButtonPressed = function () {\n      console.log(\"I was pressed\");\n\n      _this.setState({\n        showFields: false,\n        showEdit: true\n      });\n    };\n\n    _this.onCancelButton = function () {\n      _this.setState({\n        showFields: true,\n        showEdit: false,\n        group: _this.state.initialGroup,\n        subgroup: _this.state.initialSubgroup,\n        name: _this.state.initialName,\n        surname: _this.state.initialSurname\n      });\n    };\n\n    _this.logout = function () {\n      _this.props.logout();\n\n      _this.props.history.push('/login');\n    };\n\n    _this.onSaveButtonPressed = function () {\n      console.log(\"I was pressed\");\n      var updateJSON = JSON.stringify({\n        \"studentId\": _this.state.loggedUser.studentId,\n        \"firstName\": _this.state.surname,\n        \"lastName\": _this.state.name,\n        \"studentGroup\": _this.state.group,\n        \"studentSubGroup\": _this.state.subgroup\n      });\n      updateStudent(updateJSON).then(function (data) {\n        console.log(data);\n\n        if (data === 1) {\n          console.log(data);\n\n          _this.setState({\n            showFields: true,\n            showEdit: false,\n            initialGroup: _this.state.group,\n            initialSubgroup: _this.state.subgroup,\n            initialName: _this.state.name,\n            initialSurname: _this.state.surname\n          });\n\n          _this.props.addUser(new Student(_this.state.loggedUser.studentId, _this.state.subgroup, _this.state.surname, _this.state.name, _this.state.loggedUser.email, _this.state.speciality, _this.state.university, _this.state.faculty));\n        } else {\n          _this.setState({\n            showFields: false,\n            showEdit: true,\n            errors: {\n              group: true\n            }\n          });\n        }\n      });\n    };\n\n    _this.handleChangeGroup = function (event) {\n      if (event.target.value <= 100 || event.target.value >= 1000) {\n        _this.setState({\n          errors: {\n            group: true\n          }\n        });\n      } else _this.setState({\n        group: event.target.value,\n        errors: {\n          group: false\n        }\n      });\n    };\n\n    _this.handleChangeSubgroup = function (event) {\n      _this.setState({\n        subgroup: event.target.value\n      });\n    };\n\n    _this.handleChangeName = function (event) {\n      if (event.target.value === \"\") {\n        _this.setState({\n          errors: {\n            name: true\n          }\n        });\n      } else _this.setState({\n        name: event.target.value,\n        errors: {\n          name: false\n        }\n      });\n    };\n\n    _this.handleChangeSurname = function (event) {\n      if (event.target.value === \"\") {\n        _this.setState({\n          errors: {\n            surname: true\n          }\n        });\n      } else _this.setState({\n        surname: event.target.value,\n        errors: {\n          surname: false\n        }\n      });\n    };\n\n    _this.state = {\n      showFields: true,\n      showEdit: false,\n      name: _this.props.loggedUser.lastName,\n      group: _this.props.loggedUser.subgroup.groupNumber,\n      subgroup: _this.props.loggedUser.subgroup.subgroupNumber,\n      surname: _this.props.loggedUser.firstName,\n      initialGroup: _this.props.loggedUser.subgroup.groupNumber,\n      initialSubgroup: _this.props.loggedUser.subgroup.subgroupNumber,\n      initialName: _this.props.loggedUser.lastName,\n      initialSurname: _this.props.loggedUser.firstName,\n      university: _this.props.loggedUser.uni,\n      faculty: _this.props.loggedUser.fac,\n      speciality: _this.props.loggedUser.major,\n      errors: {\n        group: false,\n        name: false,\n        surname: false\n      },\n      loggedUser: _this.props.loggedUser\n    };\n    return _this;\n  }\n\n  _createClass(ProfileStudent, [{\n    key: \"render\",\n    value: function render() {\n      var currentValues = {\n        group: this.state.group\n      };\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(NavbarStudent, {\n        loggedUser: this.props.loggedUser,\n        logoutFct: this.logout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }), React.createElement(Container, {\n        className: \"profileContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        className: \"profileCard\",\n        rounded: true,\n        elevation: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        className: \"Avatar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, this.state.initialName[0]), React.createElement(\"div\", {\n        className: \"FieldContainer\",\n        hidden: !this.state.showFields,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h4\",\n        className: \"ContainerChild\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, this.state.initialSurname, \" \", this.state.initialName), React.createElement(Typography, {\n        variant: \"h5\",\n        className: \"ContainerChild\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, this.state.university, \" \", this.state.faculty, \" \", this.state.speciality), React.createElement(Typography, {\n        variant: \"h5\",\n        className: \"ContainerChild\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, this.state.initialGroup, \"/\", this.state.initialSubgroup), React.createElement(Button, {\n        className: \"ContainerChild\",\n        variant: \"contained\",\n        hidden: !this.state.showFields,\n        onClick: this.onEditButtonPressed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, \"Edit\")), React.createElement(\"div\", {\n        className: \"FieldContainerEdit\",\n        hidden: !this.state.showEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        className: \"inputText\",\n        error: this.state.errors.surname,\n        defaultValue: this.state.surname,\n        id: \"outlined-basic\",\n        label: \"Surname\",\n        onChange: this.handleChangeSurname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        className: \"inputText\",\n        error: this.state.errors.name,\n        defaultValue: this.state.name,\n        id: \"outlined-basic\",\n        label: \"Name\",\n        onChange: this.handleChangeName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"FormControlParent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        className: \"FormControlChild\",\n        error: this.state.errors.group,\n        id: \"outlined-basic\",\n        label: \"Group\",\n        type: \"number\",\n        defaultValue: this.state.initialGroup,\n        onChange: this.handleChangeGroup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }), React.createElement(FormControl, {\n        className: \"FormControlChild\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, \"Subgroup\"), React.createElement(Select, {\n        value: this.state.subgroup,\n        onChange: this.handleChangeSubgroup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        value: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, \"1\"), React.createElement(MenuItem, {\n        value: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, \"2\")))), React.createElement(Button, {\n        className: \"Container Child\",\n        variant: \"contained\",\n        hidden: !this.state.showEdit,\n        onClick: this.onCancelButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, \"Cancel\"), React.createElement(Button, {\n        className: \"Container Child\",\n        variant: \"contained\",\n        hidden: !this.state.showEdit,\n        onClick: this.onSaveButtonPressed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, \"Save\")))));\n    }\n  }]);\n\n  return ProfileStudent;\n}(React.Component);\n\nexport default connect()(ProfileStudent);","map":{"version":3,"sources":["C:/Users/Diana/Facultate/Year3/PC/ubb-protool-fe/src/components/profile/profileStudent/ProfileStudent.js"],"names":["React","NavbarStudent","Container","connect","Typography","Paper","Avatar","Button","TextField","InputLabel","FormControl","Select","MenuItem","Student","updateStudent","ProfileStudent","props","onEditButtonPressed","console","log","setState","showFields","showEdit","onCancelButton","group","state","initialGroup","subgroup","initialSubgroup","name","initialName","surname","initialSurname","logout","history","push","onSaveButtonPressed","updateJSON","JSON","stringify","loggedUser","studentId","then","data","addUser","email","speciality","university","faculty","errors","handleChangeGroup","event","target","value","handleChangeSubgroup","handleChangeName","handleChangeSurname","lastName","groupNumber","subgroupNumber","firstName","uni","fac","major","currentValues","Component"],"mappings":"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","sourcesContent":["import * as React from \"react\";\r\nimport NavbarStudent from \"../../navbar/NavbarStudent\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport {connect} from \"react-redux\";\r\nimport \"./ProfileStudent.css\"\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport {Student} from \"../../../model/Student\";\r\nimport {updateStudent} from \"../../../rest/userRest\";\r\n\r\n\r\nclass ProfileStudent extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showFields: true,\r\n            showEdit: false,\r\n            name: this.props.loggedUser.lastName,\r\n            group: this.props.loggedUser.subgroup.groupNumber,\r\n            subgroup: this.props.loggedUser.subgroup.subgroupNumber,\r\n            surname: this.props.loggedUser.firstName,\r\n            initialGroup: this.props.loggedUser.subgroup.groupNumber,\r\n            initialSubgroup: this.props.loggedUser.subgroup.subgroupNumber,\r\n            initialName: this.props.loggedUser.lastName,\r\n            initialSurname: this.props.loggedUser.firstName,\r\n            university: this.props.loggedUser.uni,\r\n            faculty: this.props.loggedUser.fac,\r\n            speciality: this.props.loggedUser.major,\r\n            errors: {\r\n                group: false,\r\n                name: false,\r\n                surname: false\r\n            },\r\n            loggedUser: this.props.loggedUser\r\n        }\r\n    }\r\n\r\n    onEditButtonPressed = () => {\r\n        console.log(\"I was pressed\");\r\n        this.setState({\r\n            showFields: false,\r\n            showEdit: true\r\n        })\r\n    };\r\n\r\n    onCancelButton = () => {\r\n        this.setState({\r\n            showFields: true,\r\n            showEdit: false,\r\n            group: this.state.initialGroup,\r\n            subgroup: this.state.initialSubgroup,\r\n            name: this.state.initialName,\r\n            surname: this.state.initialSurname\r\n        })\r\n    };\r\n\r\n    logout = () => {\r\n        this.props.logout();\r\n        this.props.history.push('/login')\r\n    }\r\n\r\n    onSaveButtonPressed = () => {\r\n        console.log(\"I was pressed\");\r\n        let updateJSON = JSON.stringify({\r\n            \"studentId\": this.state.loggedUser.studentId,\r\n            \"firstName\": this.state.surname,\r\n            \"lastName\": this.state.name,\r\n            \"studentGroup\": this.state.group,\r\n            \"studentSubGroup\": this.state.subgroup\r\n        });\r\n        updateStudent(updateJSON).then((data) => {\r\n            console.log(data);\r\n            if (data === 1) {\r\n                console.log(data);\r\n                this.setState({\r\n                    showFields: true,\r\n                    showEdit: false,\r\n                    initialGroup: this.state.group,\r\n                    initialSubgroup: this.state.subgroup,\r\n                    initialName: this.state.name,\r\n                    initialSurname: this.state.surname\r\n                });\r\n                this.props.addUser(new Student(this.state.loggedUser.studentId,\r\n                    this.state.subgroup,\r\n                    this.state.surname,\r\n                    this.state.name,\r\n                    this.state.loggedUser.email,\r\n                    this.state.speciality,\r\n                    this.state.university,\r\n                    this.state.faculty));\r\n            } else {\r\n                this.setState({\r\n                    showFields: false,\r\n                    showEdit: true,\r\n                    errors: {\r\n                        group: true\r\n                    }\r\n                })\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n//     fetch('https://mywebsite.com/endpoint/', {\r\n//     method: 'POST',\r\n//     headers: {\r\n//         'Accept': 'application/json',\r\n//         'Content-Type': 'application/json',\r\n//     },\r\n//     body: JSON.stringify({\r\n//     firstParam: 'yourValue',\r\n//     secondParam: 'yourOtherValue',\r\n// })\r\n// })\r\n\r\n    handleChangeGroup = event => {\r\n        if (event.target.value <= 100 || event.target.value >= 1000) {\r\n            this.setState({\r\n                errors: {\r\n                    group: true\r\n                }\r\n            })\r\n        } else this.setState({\r\n            group: event.target.value,\r\n            errors: {\r\n                group: false\r\n            }\r\n        });\r\n    };\r\n\r\n    handleChangeSubgroup = event => {\r\n        this.setState({\r\n            subgroup: event.target.value\r\n        });\r\n    };\r\n\r\n    handleChangeName = event => {\r\n        if (event.target.value === \"\") {\r\n            this.setState({\r\n                errors: {\r\n                    name: true\r\n                }\r\n            })\r\n        } else\r\n            this.setState({\r\n                    name: event.target.value,\r\n                    errors: {\r\n                        name: false\r\n                    }\r\n                }\r\n            );\r\n    };\r\n\r\n    handleChangeSurname = event => {\r\n        if (event.target.value === \"\") {\r\n            this.setState({\r\n                errors: {\r\n                    surname: true\r\n                }\r\n            })\r\n        } else\r\n            this.setState({\r\n                    surname: event.target.value,\r\n                    errors: {\r\n                        surname: false\r\n                    }\r\n                }\r\n            );\r\n    };\r\n\r\n    render() {\r\n        let currentValues = {\r\n            group: this.state.group\r\n        };\r\n        return (\r\n            <div>\r\n                <NavbarStudent loggedUser={this.props.loggedUser} logoutFct={this.logout}/>\r\n                <Container className=\"profileContainer\">\r\n                    <Paper className=\"profileCard\" rounded={true} elevation={2}>\r\n                        <Avatar className=\"Avatar\">{this.state.initialName[0]}</Avatar>\r\n                        <div className=\"FieldContainer\" hidden={!this.state.showFields}>\r\n                            <Typography variant={\"h4\"}\r\n                                        className=\"ContainerChild\">{this.state.initialSurname} {this.state.initialName}</Typography>\r\n                            <Typography variant={\"h5\"}\r\n                                        className=\"ContainerChild\">{this.state.university} {this.state.faculty} {this.state.speciality}</Typography>\r\n                            <Typography variant={\"h5\"}\r\n                                        className=\"ContainerChild\">{this.state.initialGroup}/{this.state.initialSubgroup}</Typography>\r\n                            <Button className={\"ContainerChild\"} variant={\"contained\"} hidden={!this.state.showFields}\r\n                                    onClick={this.onEditButtonPressed}>Edit</Button>\r\n                        </div>\r\n\r\n                        <div className=\"FieldContainerEdit\" hidden={!this.state.showEdit}>\r\n                            <TextField className=\"inputText\"\r\n                                       error={this.state.errors.surname}\r\n                                       defaultValue={this.state.surname}\r\n                                       id=\"outlined-basic\"\r\n                                       label=\"Surname\"\r\n                                       onChange={this.handleChangeSurname}/>\r\n                            <TextField className=\"inputText\"\r\n                                       error={this.state.errors.name}\r\n                                       defaultValue={this.state.name}\r\n                                       id=\"outlined-basic\"\r\n                                       label=\"Name\"\r\n                                       onChange={this.handleChangeName}/>\r\n                            <div className=\"FormControlParent\">\r\n                                <TextField className=\"FormControlChild\"\r\n                                           error={this.state.errors.group}\r\n                                           id=\"outlined-basic\"\r\n                                           label=\"Group\"\r\n                                           type=\"number\"\r\n                                           defaultValue={this.state.initialGroup}\r\n                                           onChange={this.handleChangeGroup}/>\r\n                                <FormControl className=\"FormControlChild\">\r\n                                    <InputLabel>Subgroup</InputLabel>\r\n                                    <Select\r\n                                        value={this.state.subgroup}\r\n                                        onChange={this.handleChangeSubgroup}>\r\n                                        <MenuItem value={1}>1</MenuItem>\r\n                                        <MenuItem value={2}>2</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </div>\r\n                            <Button className={\"Container Child\"} variant={\"contained\"} hidden={!this.state.showEdit}\r\n                                    onClick={this.onCancelButton}>Cancel</Button>\r\n                            <Button className={\"Container Child\"} variant={\"contained\"} hidden={!this.state.showEdit}\r\n                                    onClick={this.onSaveButtonPressed}>Save</Button>\r\n                        </div>\r\n                    </Paper>\r\n                </Container>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect()(ProfileStudent)\r\n"]},"metadata":{},"sourceType":"module"}