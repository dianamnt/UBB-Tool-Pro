{"ast":null,"code":"import CourseClass from \"../model/CourseClass\";\nimport { baseUrlServer } from \"../shared/NetworkSettings\";\nimport Course from \"../model/Course\";\nimport { Teacher } from \"../model/Teacher\";\nimport { Subgroup } from \"../model/Subgroup\";\nvar baseUrl = baseUrlServer;\n\nfunction getDayNumber(dayString) {\n  var days = [\"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\"];\n\n  for (var i = 1; i < 6; i++) {\n    if (days[i - 1] === dayString) {\n      return i;\n    }\n  }\n}\n\nfunction getTeacherById(tList, tId) {\n  for (var i in tList) {\n    if (tList[i].teacherId === tId) {\n      return new Teacher(tList[i].teacherId, tList[i].teacherDepartment, tList[i].teacherAvailability, tList[i].teacherFirstName, tList[i].teacherLastName, tList[i].email, tList[i].teacherUniversity, tList[i].teacherFaculty, tList[i].teacherWebSite);\n    }\n  }\n}\n\nfunction getSubgroupById(lista, id) {\n  for (var i in lista) {\n    if (lista[i].subgroupId === id) {\n      return new Subgroup(lista[i].subgroupId, lista[i].groupNumber, lista[i].groupNumber);\n    }\n  }\n}\n\nexport function getChangelistFromClass(classId, date) {\n  var url = baseUrl + \"class/getPosiibleClassesForChanged/\" + classId + \"/\" + date;\n  return fetch(baseUrl + \"course/list\", {\n    method: 'GET'\n  }).then(function (r) {\n    return r.json();\n  }).then(function (data) {\n    console.log(\"courses \" + data);\n    var courses = [];\n\n    for (var c in data) {\n      var co = new Course(data[c][\"courseId\"], data[c][\"courseName\"], data[c][\"courseSemester\"], data[c][\"courseUniversity\"], data[c][\"courseFaculty\"], data[c][\"courseStartDate\"], data[c][\"courseEndDate\"]);\n      courses.push(co);\n    }\n\n    return fetch(baseUrl + \"teacher/list\", {\n      method: 'GET'\n    }).then(function (r) {\n      return r.json();\n    }).then(function (teachers) {\n      console.log(\"teachers \" + teachers);\n      return fetch(baseUrl + \"subgroup/list\", {\n        method: 'GET'\n      }).then(function (r) {\n        return r.json();\n      }).then(function (subgroups) {\n        console.log(\"subgroup\" + subgroups);\n        return fetch(url, {\n          method: 'POST'\n        }).then(function (response) {\n          return response.json();\n        }).then(function (data) {\n          console.log(data);\n          var cls = [];\n\n          for (var i in data) {\n            for (var j in courses) {\n              if (courses[j].courseId === data[i].courseId) {\n                console.log(\"add\");\n                var dayNr = getDayNumber(data[i].classDay);\n                var teacher = getTeacherById(teachers, data[i].teacherId);\n                var subgroup = getSubgroupById(subgroups, data[i].subgroupId);\n                var hourr = Number(data[i].classHour.substring(0, 2));\n                var c = new CourseClass(data[i].classId, teacher, courses[j], subgroup, data[i].classType, dayNr, data[i].classWeek, hourr, data[i].classLocation, data[i].classDuration);\n                cls.push(c);\n                break;\n              }\n            }\n          }\n\n          console.log(\"clsss\" + cls);\n          return cls;\n        }).catch(function (err) {\n          console.log(err.message);\n        });\n      });\n    });\n  });\n}","map":{"version":3,"sources":["C:/Users/Diana/Facultate/Year3/PC/ubb-protool-fe/src/rest/ChangelistRest.js"],"names":["CourseClass","baseUrlServer","Course","Teacher","Subgroup","baseUrl","getDayNumber","dayString","days","i","getTeacherById","tList","tId","teacherId","teacherDepartment","teacherAvailability","teacherFirstName","teacherLastName","email","teacherUniversity","teacherFaculty","teacherWebSite","getSubgroupById","lista","id","subgroupId","groupNumber","getChangelistFromClass","classId","date","url","fetch","method","then","r","json","data","console","log","courses","c","co","push","teachers","subgroups","response","cls","j","courseId","dayNr","classDay","teacher","subgroup","hourr","Number","classHour","substring","classType","classWeek","classLocation","classDuration","catch","err","message"],"mappings":"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","sourcesContent":["import CourseClass from \"../model/CourseClass\";\r\nimport {baseUrlServer} from \"../shared/NetworkSettings\";\r\nimport Course from \"../model/Course\";\r\nimport {Teacher} from \"../model/Teacher\";\r\nimport {Subgroup} from \"../model/Subgroup\";\r\n\r\nlet baseUrl = baseUrlServer;\r\n\r\nfunction getDayNumber(dayString) {\r\n    const days = [\"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\"]\r\n    for (var i = 1; i < 6; i++) {\r\n        if (days[i - 1] === dayString) {\r\n            return i;\r\n        }\r\n    }\r\n}\r\n\r\nfunction getTeacherById(tList, tId) {\r\n    for (var i in tList) {\r\n        if (tList[i].teacherId === tId) {\r\n            return new Teacher(tList[i].teacherId, tList[i].teacherDepartment, tList[i].teacherAvailability, tList[i].teacherFirstName, tList[i].teacherLastName,\r\n                tList[i].email, tList[i].teacherUniversity, tList[i].teacherFaculty, tList[i].teacherWebSite)\r\n        }\r\n    }\r\n}\r\n\r\nfunction getSubgroupById(lista, id) {\r\n    for (var i in lista) {\r\n        if (lista[i].subgroupId === id) {\r\n            return new Subgroup(lista[i].subgroupId, lista[i].groupNumber, lista[i].groupNumber)\r\n        }\r\n    }\r\n}\r\n\r\nexport function getChangelistFromClass(classId, date) {\r\n    const url = baseUrl + \"class/getPosiibleClassesForChanged/\" + classId + \"/\" + date;\r\n    return fetch(baseUrl + \"course/list\", {\r\n        method: 'GET'\r\n    }).then((r) => {\r\n        return r.json()\r\n    })\r\n        .then((data) => {\r\n            console.log(\"courses \" + data)\r\n            var courses = []\r\n            for (var c in data) {\r\n\r\n                var co = new Course(data[c][\"courseId\"], data[c][\"courseName\"], data[c][\"courseSemester\"], data[c][\"courseUniversity\"], data[c][\"courseFaculty\"], data[c][\"courseStartDate\"], data[c][\"courseEndDate\"])\r\n\r\n                courses.push(co)\r\n            }\r\n            return fetch(baseUrl + \"teacher/list\", {\r\n                method: 'GET'\r\n\r\n            }).then((r) => {\r\n                return r.json()\r\n            })\r\n                .then((teachers) => {\r\n                    console.log(\"teachers \" + teachers);\r\n                    return fetch(baseUrl + \"subgroup/list\", {\r\n                        method: 'GET'\r\n                    }).then((r) => {\r\n                        return r.json()\r\n                    })\r\n                        .then((subgroups) => {\r\n                            console.log(\"subgroup\" + subgroups);\r\n                            return fetch(url, {\r\n                                method: 'POST',\r\n                            }).then((response) => {\r\n                                return response.json();\r\n                            })\r\n                                .then((data) => {\r\n                                    console.log(data)\r\n                                    var cls = []\r\n                                    for (var i in data) {\r\n\r\n                                        for (var j in courses) {\r\n                                            if (courses[j].courseId === data[i].courseId) {\r\n                                                console.log(\"add\")\r\n                                                const dayNr = getDayNumber(data[i].classDay)\r\n                                                const teacher = getTeacherById(teachers, data[i].teacherId)\r\n                                                const subgroup = getSubgroupById(subgroups, data[i].subgroupId)\r\n\r\n                                                const hourr = Number(data[i].classHour.substring(0, 2))\r\n                                                var c = new CourseClass(data[i].classId, teacher, courses[j], subgroup, data[i].classType, dayNr, data[i].classWeek, hourr, data[i].classLocation, data[i].classDuration)\r\n\r\n                                                cls.push(c)\r\n                                                break;\r\n                                            }\r\n                                        }\r\n\r\n\r\n                                    }\r\n                                    console.log(\"clsss\" + cls)\r\n                                    return cls\r\n                                })\r\n                                .catch((err) => {\r\n                                    console.log(err.message)\r\n                                })\r\n                        })\r\n\r\n\r\n                })\r\n\r\n\r\n        })\r\n}\r\n"]},"metadata":{},"sourceType":"module"}