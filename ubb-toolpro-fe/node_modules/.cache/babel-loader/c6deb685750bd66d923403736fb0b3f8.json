{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\src\\\\components\\\\profile\\\\profileTeacher\\\\ProfileTeacher.js\";\nimport * as React from \"react\";\nimport Container from \"@material-ui/core/Container\";\nimport { connect } from \"react-redux\";\nimport \"./ProfileTeacher.css\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport NavBarTeacher from \"../../navbar/NavBarTeacher\";\nimport { Student } from \"../../../model/Student\";\nimport { updateTeacher } from \"../../../rest/userRest\";\nimport { Teacher } from \"../../../model/Teacher\";\nimport NavbarStudent from \"../../navbar/NavbarStudent\";\n\nvar ProfileTeacher =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ProfileTeacher, _React$Component);\n\n  function ProfileTeacher(props) {\n    var _this;\n\n    _classCallCheck(this, ProfileTeacher);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProfileTeacher).call(this, props));\n\n    _this.thesisAvailabilityText = function (availability) {\n      if (availability) {\n        return 1;\n      } else return 0;\n    };\n\n    _this.onEditButtonPressed = function () {\n      console.log(\"I was pressed\");\n\n      _this.setState({\n        showFields: false,\n        showEdit: true\n      });\n    };\n\n    _this.onCancelButton = function () {\n      _this.setState({\n        showFields: true,\n        showEdit: false,\n        name: _this.state.initialName,\n        surname: _this.state.initialSurname,\n        site: _this.state.initialSite,\n        thesisAvailability: _this.state.initialThesisAvailability\n      });\n    };\n\n    _this.logout = function () {\n      _this.props.logout();\n\n      _this.props.history.push('/login');\n    };\n\n    _this.onSaveButtonPressed = function () {\n      console.log(\"I was pressed\");\n      var updateJSON = JSON.stringify({\n        \"teacherId\": _this.state.loggedUser.teacherId,\n        \"teacherFirstName\": _this.state.surname,\n        \"teacherLastName\": _this.state.name,\n        \"teacherAvailability\": _this.state.thesisAvailability,\n        \"teacherWebSite\": _this.state.site\n      });\n      updateTeacher(updateJSON).then(function (data) {\n        if (data) {\n          _this.setState({\n            showFields: true,\n            showEdit: false,\n            initialName: _this.state.name,\n            initialSurname: _this.state.surname,\n            initialSite: _this.state.site,\n            initialThesisAvailability: _this.state.thesisAvailability\n          });\n\n          _this.props.addUser(new Teacher(_this.state.loggedUser.teacherId, _this.state.loggedUser.department, _this.state.thesisAvailability, _this.state.surname, _this.state.name, _this.state.loggedUser.teacherEmail, _this.state.loggedUser.uni, _this.state.loggedUser.fac, _this.state.site));\n        } else {\n          _this.setState({\n            showFields: false,\n            showEdit: true\n          });\n        }\n      });\n    };\n\n    _this.handleChangeSite = function (event) {\n      if (!(event.target.value.includes(\"http://\") || event.target.value.includes(\"http://\"))) {\n        _this.setState({\n          errors: {\n            site: \"Should have http:// or https://\"\n          }\n        });\n      } else _this.setState({\n        site: event.target.value,\n        errors: {\n          site: null\n        }\n      });\n    };\n\n    _this.handleChangeName = function (event) {\n      if (event.target.value === \"\") {\n        _this.setState({\n          errors: {\n            name: true\n          }\n        });\n      } else _this.setState({\n        name: event.target.value,\n        errors: {\n          name: false\n        }\n      });\n    };\n\n    _this.handleChangeSurname = function (event) {\n      if (event.target.value === \"\") {\n        _this.setState({\n          errors: {\n            surname: true\n          }\n        });\n      } else _this.setState({\n        surname: event.target.value,\n        errors: {\n          surname: false\n        }\n      });\n    };\n\n    _this.handleChangeThesis = function (event) {\n      _this.setState({\n        thesisAvailability: event.target.value\n      });\n    };\n\n    _this.getColorAvailability = function (availability) {\n      if (availability) {\n        return React.createElement(\"text\", {\n          className: \"fontColorGreen\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, \"Available\");\n      } else return React.createElement(\"text\", {\n        className: \"fontColorRed\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \"Unavailable\");\n    };\n\n    console.log(_this.props.loggedUser);\n    _this.state = {\n      showFields: true,\n      showEdit: false,\n      name: _this.props.loggedUser.lastname,\n      surname: _this.props.loggedUser.firstname,\n      initialName: _this.props.loggedUser.lastname,\n      initialSurname: _this.props.loggedUser.firstname,\n      university: _this.props.loggedUser.uni,\n      faculty: _this.props.loggedUser.fac,\n      department: _this.props.loggedUser.department,\n      thesisAvailability: _this.props.loggedUser.thesisAvailability,\n      initialThesisAvailability: _this.props.loggedUser.thesisAvailability,\n      site: _this.props.loggedUser.site,\n      email: _this.props.loggedUser.teacherEmail,\n      initialSite: _this.props.loggedUser.site,\n      errors: {\n        name: false,\n        surname: false\n      },\n      loggedUser: _this.props.loggedUser\n    };\n    return _this;\n  }\n\n  _createClass(ProfileTeacher, [{\n    key: \"render\",\n    value: function render() {\n      var currentValues = {\n        group: this.state.group\n      };\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(NavBarTeacher, {\n        loggedUser: this.props.loggedUser,\n        logoutFct: this.logout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }), React.createElement(Container, {\n        className: \"profileContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        className: \"profileCard\",\n        rounded: true,\n        elevation: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        className: \"Avatar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, this.state.initialName[0]), React.createElement(\"div\", {\n        className: \"FieldContainer\",\n        hidden: !this.state.showFields,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h4\",\n        className: \"ContainerChild\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, this.state.initialSurname, \" \", this.state.initialName, \" \", this.getColorAvailability(this.state.initialThesisAvailability)), React.createElement(Typography, {\n        variant: \"h5\",\n        className: \"ContainerChild\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, this.state.university, \" \", this.state.faculty, \" \", this.state.department), React.createElement(Typography, {\n        variant: \"h5\",\n        className: \"ContainerChild\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Email: \", this.state.email), React.createElement(Typography, {\n        variant: \"h5\",\n        className: \"ContainerChild\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, \"Website: \", React.createElement(\"a\", {\n        href: this.state.initialSite,\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, this.state.initialSite)), React.createElement(Button, {\n        className: \"ContainerChild\",\n        variant: \"contained\",\n        hidden: !this.state.showFields,\n        onClick: this.onEditButtonPressed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Edit\")), React.createElement(\"div\", {\n        className: \"FieldContainerEdit\",\n        hidden: !this.state.showEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        className: \"inputText\",\n        error: this.state.errors.surname,\n        defaultValue: this.state.surname,\n        id: \"outlined-basic\",\n        label: \"Surname\",\n        onChange: this.handleChangeSurname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        className: \"inputText\",\n        error: this.state.errors.name,\n        defaultValue: this.state.name,\n        id: \"outlined-basic\",\n        label: \"Name\",\n        onChange: this.handleChangeName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        className: \"inputText\",\n        error: this.state.errors.site,\n        defaultValue: this.state.site,\n        fullWidth: true,\n        id: \"outlined-basic\",\n        label: \"WebSite\",\n        onChange: this.handleChangeSite,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"FormControlParent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        className: \"FormControlChild\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, \"Thesis availability\"), React.createElement(Select, {\n        value: this.thesisAvailabilityText(this.state.thesisAvailability),\n        onChange: this.handleChangeThesis,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        value: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, \"Available\"), React.createElement(MenuItem, {\n        value: 0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, \"Unavailable\")))), React.createElement(Button, {\n        className: \"Container Child\",\n        variant: \"contained\",\n        hidden: !this.state.showEdit,\n        onClick: this.onCancelButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, \"Cancel\"), React.createElement(Button, {\n        className: \"Container Child\",\n        variant: \"contained\",\n        hidden: !this.state.showEdit,\n        onClick: this.onSaveButtonPressed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, \"Save\")))));\n    }\n  }]);\n\n  return ProfileTeacher;\n}(React.Component);\n\nexport default connect()(ProfileTeacher);","map":{"version":3,"sources":["C:/Users/Diana/Facultate/Year3/PC/ubb-protool-fe/src/components/profile/profileTeacher/ProfileTeacher.js"],"names":["React","Container","connect","Typography","Paper","Avatar","Button","TextField","InputLabel","FormControl","Select","MenuItem","NavBarTeacher","Student","updateTeacher","Teacher","NavbarStudent","ProfileTeacher","props","thesisAvailabilityText","availability","onEditButtonPressed","console","log","setState","showFields","showEdit","onCancelButton","name","state","initialName","surname","initialSurname","site","initialSite","thesisAvailability","initialThesisAvailability","logout","history","push","onSaveButtonPressed","updateJSON","JSON","stringify","loggedUser","teacherId","then","data","addUser","department","teacherEmail","uni","fac","handleChangeSite","event","target","value","includes","errors","handleChangeName","handleChangeSurname","handleChangeThesis","getColorAvailability","lastname","firstname","university","faculty","email","currentValues","group","Component"],"mappings":"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","sourcesContent":["import * as React from \"react\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport {connect} from \"react-redux\";\r\nimport \"./ProfileTeacher.css\"\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport NavBarTeacher from \"../../navbar/NavBarTeacher\";\r\nimport {Student} from \"../../../model/Student\";\r\nimport {updateTeacher} from \"../../../rest/userRest\";\r\nimport {Teacher} from \"../../../model/Teacher\";\r\nimport NavbarStudent from \"../../navbar/NavbarStudent\";\r\n\r\n\r\nclass ProfileTeacher extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(this.props.loggedUser);\r\n        this.state = {\r\n            showFields: true,\r\n            showEdit: false,\r\n            name: this.props.loggedUser.lastname,\r\n            surname: this.props.loggedUser.firstname,\r\n            initialName: this.props.loggedUser.lastname,\r\n            initialSurname: this.props.loggedUser.firstname,\r\n            university: this.props.loggedUser.uni,\r\n            faculty: this.props.loggedUser.fac,\r\n            department: this.props.loggedUser.department,\r\n            thesisAvailability: this.props.loggedUser.thesisAvailability,\r\n            initialThesisAvailability: this.props.loggedUser.thesisAvailability,\r\n            site: this.props.loggedUser.site,\r\n            email: this.props.loggedUser.teacherEmail,\r\n            initialSite: this.props.loggedUser.site,\r\n            errors: {\r\n                name: false,\r\n                surname: false\r\n            },\r\n            loggedUser: this.props.loggedUser\r\n        }\r\n    }\r\n\r\n    thesisAvailabilityText = (availability) => {\r\n        if (availability) {\r\n            return 1\r\n        } else return 0\r\n    };\r\n\r\n\r\n    onEditButtonPressed = () => {\r\n        console.log(\"I was pressed\");\r\n        this.setState({\r\n            showFields: false,\r\n            showEdit: true\r\n        })\r\n    };\r\n\r\n    onCancelButton = () => {\r\n        this.setState({\r\n            showFields: true,\r\n            showEdit: false,\r\n            name: this.state.initialName,\r\n            surname: this.state.initialSurname,\r\n            site: this.state.initialSite,\r\n            thesisAvailability: this.state.initialThesisAvailability\r\n        })\r\n    };\r\n\r\n    logout = () => {\r\n        this.props.logout();\r\n        this.props.history.push('/login')\r\n    }\r\n\r\n    onSaveButtonPressed = () => {\r\n        console.log(\"I was pressed\");\r\n        let updateJSON = JSON.stringify({\r\n            \"teacherId\": this.state.loggedUser.teacherId,\r\n            \"teacherFirstName\": this.state.surname,\r\n            \"teacherLastName\": this.state.name,\r\n            \"teacherAvailability\": this.state.thesisAvailability,\r\n            \"teacherWebSite\": this.state.site\r\n        });\r\n        updateTeacher(updateJSON).then((data) => {\r\n            if (data) {\r\n                this.setState({\r\n                    showFields: true,\r\n                    showEdit: false,\r\n                    initialName: this.state.name,\r\n                    initialSurname: this.state.surname,\r\n                    initialSite: this.state.site,\r\n                    initialThesisAvailability: this.state.thesisAvailability\r\n                });\r\n                this.props.addUser(new Teacher(this.state.loggedUser.teacherId,\r\n                    this.state.loggedUser.department,\r\n                    this.state.thesisAvailability,\r\n                    this.state.surname, this.state.name,\r\n                    this.state.loggedUser.teacherEmail,\r\n                    this.state.loggedUser.uni,\r\n                    this.state.loggedUser.fac,\r\n                    this.state.site));\r\n            } else {\r\n                this.setState({\r\n                    showFields: false,\r\n                    showEdit: true\r\n                })\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    handleChangeSite = event => {\r\n        if (!(event.target.value.includes(\"http://\") || event.target.value.includes(\"http://\"))) {\r\n            this.setState({\r\n                errors: {\r\n                    site: \"Should have http:// or https://\"\r\n                }\r\n            })\r\n        } else this.setState({\r\n            site: event.target.value,\r\n            errors: {\r\n                site: null\r\n            }\r\n        });\r\n    };\r\n\r\n    handleChangeName = event => {\r\n        if (event.target.value === \"\") {\r\n            this.setState({\r\n                errors: {\r\n                    name: true\r\n                }\r\n            })\r\n        } else\r\n            this.setState({\r\n                    name: event.target.value,\r\n                    errors: {\r\n                        name: false\r\n                    }\r\n                }\r\n            );\r\n    };\r\n\r\n    handleChangeSurname = event => {\r\n        if (event.target.value === \"\") {\r\n            this.setState({\r\n                errors: {\r\n                    surname: true\r\n                }\r\n            })\r\n        } else\r\n            this.setState({\r\n                    surname: event.target.value,\r\n                    errors: {\r\n                        surname: false\r\n                    }\r\n                }\r\n            );\r\n    };\r\n\r\n    handleChangeThesis = event => {\r\n        this.setState({\r\n                thesisAvailability: event.target.value,\r\n            }\r\n        );\r\n    };\r\n\r\n    getColorAvailability = (availability) => {\r\n        if (availability) {\r\n            return <text className=\"fontColorGreen\">Available</text>\r\n        } else return <text className=\"fontColorRed\">Unavailable</text>\r\n    };\r\n\r\n\r\n    render() {\r\n        let currentValues = {\r\n            group: this.state.group\r\n        };\r\n        return (\r\n            <div>\r\n                <NavBarTeacher loggedUser={this.props.loggedUser} logoutFct={this.logout}/>\r\n                <Container className=\"profileContainer\">\r\n                    <Paper className=\"profileCard\" rounded={true} elevation={2}>\r\n                        <Avatar className=\"Avatar\">{this.state.initialName[0]}</Avatar>\r\n                        <div className=\"FieldContainer\" hidden={!this.state.showFields}>\r\n                            <Typography variant={\"h4\"}\r\n                                        className=\"ContainerChild\">{this.state.initialSurname} {this.state.initialName} {this.getColorAvailability(this.state.initialThesisAvailability)}</Typography>\r\n                            <Typography variant={\"h5\"}\r\n                                        className=\"ContainerChild\">{this.state.university} {this.state.faculty} {this.state.department}</Typography>\r\n                            <Typography variant={\"h5\"}\r\n                                        className=\"ContainerChild\">Email: {this.state.email}</Typography>\r\n                            <Typography variant={\"h5\"}\r\n                                        className=\"ContainerChild\">Website: <a\r\n                                href={this.state.initialSite} target=\"_blank\">{this.state.initialSite}</a></Typography>\r\n                            <Button className={\"ContainerChild\"} variant={\"contained\"} hidden={!this.state.showFields}\r\n                                    onClick={this.onEditButtonPressed}>Edit</Button>\r\n                        </div>\r\n\r\n                        <div className=\"FieldContainerEdit\" hidden={!this.state.showEdit}>\r\n                            <TextField className=\"inputText\"\r\n                                       error={this.state.errors.surname}\r\n                                       defaultValue={this.state.surname}\r\n                                       id=\"outlined-basic\"\r\n                                       label=\"Surname\"\r\n                                       onChange={this.handleChangeSurname}/>\r\n                            <TextField className=\"inputText\"\r\n                                       error={this.state.errors.name}\r\n                                       defaultValue={this.state.name}\r\n                                       id=\"outlined-basic\"\r\n                                       label=\"Name\"\r\n                                       onChange={this.handleChangeName}/>\r\n                            <TextField className=\"inputText\"\r\n                                       error={this.state.errors.site}\r\n                                       defaultValue={this.state.site}\r\n                                       fullWidth={true}\r\n                                       id=\"outlined-basic\"\r\n                                       label=\"WebSite\"\r\n                                       onChange={this.handleChangeSite}/>\r\n\r\n\r\n                            <div className=\"FormControlParent\">\r\n                                <FormControl className=\"FormControlChild\">\r\n                                    <InputLabel>Thesis availability</InputLabel>\r\n                                    <Select\r\n                                        value={this.thesisAvailabilityText(this.state.thesisAvailability)}\r\n                                        onChange={this.handleChangeThesis}>\r\n                                        <MenuItem value={1}>Available</MenuItem>\r\n                                        <MenuItem value={0}>Unavailable</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </div>\r\n                            <Button className={\"Container Child\"} variant={\"contained\"} hidden={!this.state.showEdit}\r\n                                    onClick={this.onCancelButton}>Cancel</Button>\r\n                            <Button className={\"Container Child\"} variant={\"contained\"} hidden={!this.state.showEdit}\r\n                                    onClick={this.onSaveButtonPressed}>Save</Button>\r\n                        </div>\r\n                    </Paper>\r\n                </Container>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect()(ProfileTeacher);\r\n"]},"metadata":{},"sourceType":"module"}