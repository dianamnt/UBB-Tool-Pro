{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\src\\\\components\\\\schedule_handling\\\\ChangelistModal.js\";\nimport React from \"react\";\nimport \"./ChangelistModal.css\";\nimport { connect } from 'react-redux';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '@material-ui/core';\nimport CourseClass from \"../../model/CourseClass\";\nimport { classess } from \"../../mockings/ClassMock\";\nimport TeacherCard from \"../student/teacherTab/TeacherCard\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport { DialogTitle } from \"@material-ui/core\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Button from \"@material-ui/core/Button\";\nimport Box from \"@material-ui/core/Box\";\nimport MessageModal from \"./MessageModal\";\nimport Card from \"@material-ui/core/Card\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport { getChangelistFromClass } from \"../../rest/ChangelistRest\";\nvar newClassesList = classess;\n\nvar ChangelistModal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ChangelistModal, _React$Component);\n\n  function ChangelistModal(props) {\n    var _this;\n\n    _classCallCheck(this, ChangelistModal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChangelistModal).call(this, props));\n\n    _this.formatDate = function (date) {\n      var d = new Date(date),\n          month = '' + (d.getMonth() + 1),\n          day = '' + d.getDate(),\n          year = d.getFullYear();\n      if (month.length < 2) month = '0' + month;\n      if (day.length < 2) day = '0' + day; //return [year, month, day].join('-');\n\n      return \"2019-10-02\";\n    };\n\n    _this.formattedDate = function () {\n      var d = new Date();\n\n      var f = _this.formatDate(d);\n\n      return f;\n    };\n\n    _this.changelistItem = function (item) {\n      console.log(item);\n      return React.createElement(Card, {\n        className: \"card\",\n        elevation: 0,\n        raised: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(CardContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        display: \"inline\",\n        className: \"leftside\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Day: \"), React.createElement(Typography, {\n        display: \"inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, _this.daysOfTheWeek[item.classDay])), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        display: \"inline\",\n        className: \"leftside\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Week: \"), React.createElement(Typography, {\n        display: \"inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, item.classWeek == \"0\" ? \"weekly\" : item.classWeek)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        display: \"inline\",\n        className: \"leftside\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Time: \"), React.createElement(Typography, {\n        display: \"inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, item.classHour + \":00\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        display: \"inline\",\n        className: \"leftside\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Location: \"), React.createElement(Typography, {\n        display: \"inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, item.classLocation)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        display: \"inline\",\n        className: \"leftside\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Teacher: \"), React.createElement(Typography, {\n        display: \"inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, item.teacher.firstname + \" \" + item.teacher.lastname))));\n    };\n\n    _this.exitChangelist = function () {\n      _this.setState({\n        showModal: false\n      });\n    };\n\n    _this.showMessageModal = function (item) {\n      _this.setState({\n        showModal: false\n      });\n\n      _this.messageModal = React.createElement(MessageModal, {\n        courseClass: item,\n        student: _this.state.student,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      });\n    };\n\n    _this.getDialogTitle = function () {\n      return _this.state.oldClass.title + \" - \" + _this.state.oldClass.classType;\n    };\n\n    _this.daysOfTheWeek = {\n      1: \"Monday\",\n      2: \"Tuesday\",\n      3: \"Wednesday\",\n      4: \"Thursday\",\n      5: \"Friday\"\n    };\n    _this.state = {\n      student: _this.props.student,\n      oldClass: _this.props.courseClass,\n      showModal: true,\n      newClasses: null\n    };\n    return _this;\n  }\n\n  _createClass(ChangelistModal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      getChangelistFromClass(this.state.oldClass.classId, this.formattedDate()).then(function (data) {\n        _this2.setState({\n          newClasses: data\n        });\n\n        console.log(\"new classes \" + _this2.data);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var changelistDiv = null;\n\n      if (this.state.newClasses != null) {\n        changelistDiv = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, this.state.newClasses.map(function (item, index) {\n          return React.createElement(\"div\", {\n            onClick: function onClick() {\n              return _this3.showMessageModal(item);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123\n            },\n            __self: this\n          }, _this3.changelistItem(item));\n        }));\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(Dialog, {\n        className: \"changelistDialog\",\n        fullWidth: \"true\",\n        maxWidth: \"xs\",\n        open: this.state.showModal,\n        onClose: this.exitChangelist,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        id: \"form-dialog-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, this.getDialogTitle())), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(DialogContentText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Choose what class you want to attend instead!\"), changelistDiv), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.exitChangelist,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Back\"))), this.messageModal);\n    }\n  }]);\n\n  return ChangelistModal;\n}(React.Component);\n\nexport default ChangelistModal;","map":{"version":3,"sources":["C:/Users/Diana/Facultate/Year3/PC/ubb-protool-fe/src/components/schedule_handling/ChangelistModal.js"],"names":["React","connect","CourseClass","classess","TeacherCard","DialogActions","Dialog","DialogTitle","DialogContent","Button","Box","MessageModal","Card","Typography","CardContent","CardHeader","DialogContentText","getChangelistFromClass","newClassesList","ChangelistModal","props","formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","length","formattedDate","f","changelistItem","item","console","log","daysOfTheWeek","classDay","classWeek","classHour","classLocation","teacher","firstname","lastname","exitChangelist","setState","showModal","showMessageModal","messageModal","state","student","getDialogTitle","oldClass","title","classType","courseClass","newClasses","classId","then","data","changelistDiv","map","index","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./ChangelistModal.css\";\r\nimport {connect} from 'react-redux'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport '@material-ui/core'\r\nimport CourseClass from \"../../model/CourseClass\";\r\nimport {classess} from \"../../mockings/ClassMock\";\r\nimport TeacherCard from \"../student/teacherTab/TeacherCard\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport {DialogTitle} from \"@material-ui/core\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport MessageModal from \"./MessageModal\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardHeader from \"@material-ui/core/CardHeader\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport {getChangelistFromClass} from \"../../rest/ChangelistRest\";\r\nlet newClassesList = classess;\r\n\r\nclass ChangelistModal extends React.Component {\r\n    messageModal;\r\n    daysOfTheWeek;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.daysOfTheWeek = {\r\n            1: \"Monday\",\r\n            2: \"Tuesday\",\r\n            3: \"Wednesday\",\r\n            4: \"Thursday\",\r\n            5: \"Friday\"\r\n        }\r\n        this.state = {\r\n            student: this.props.student,\r\n            oldClass: this.props.courseClass,\r\n            showModal: true,\r\n            newClasses: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        getChangelistFromClass(this.state.oldClass.classId, this.formattedDate())\r\n            .then((data) => {this.setState({newClasses : data});\r\n                console.log(\"new classes \" + this.data)\r\n            });\r\n    }\r\n\r\n    formatDate = (date) => {\r\n        let d = new Date(date),\r\n            month = '' + (d.getMonth() + 1),\r\n            day = '' + d.getDate(),\r\n            year = d.getFullYear();\r\n\r\n        if (month.length < 2)\r\n            month = '0' + month;\r\n        if (day.length < 2)\r\n            day = '0' + day;\r\n\r\n        //return [year, month, day].join('-');\r\n        return \"2019-10-02\";\r\n    }\r\n\r\n    formattedDate = () => {\r\n        let d = new Date();\r\n        let f = this.formatDate(d);\r\n        return f;\r\n    }\r\n\r\n    changelistItem = (item) => {\r\n        console.log(item);\r\n        return (\r\n            <Card className=\"card\" elevation={0} raised={true}>\r\n                <CardContent>\r\n                    <div>\r\n                        <Typography display=\"inline\" className=\"leftside\">Day: </Typography><Typography\r\n                        display=\"inline\">{this.daysOfTheWeek[item.classDay]}</Typography>\r\n                    </div>\r\n                    <div>\r\n                        <Typography display=\"inline\" className=\"leftside\">Week: </Typography><Typography\r\n                        display=\"inline\">{item.classWeek == \"0\" ? \"weekly\" : item.classWeek}</Typography>\r\n                    </div>\r\n                    <div>\r\n                        <Typography display=\"inline\" className=\"leftside\">Time: </Typography><Typography\r\n                        display=\"inline\">{item.classHour + \":00\"}</Typography>\r\n                    </div>\r\n                    <div>\r\n                        <Typography display=\"inline\" className=\"leftside\">Location: </Typography><Typography\r\n                        display=\"inline\">{item.classLocation}</Typography>\r\n                    </div>\r\n                    <div>\r\n                        <Typography display=\"inline\" className=\"leftside\">Teacher: </Typography><Typography\r\n                        display=\"inline\">{item.teacher.firstname + \" \" + item.teacher.lastname}</Typography>\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n        )\r\n    }\r\n    exitChangelist = () => {\r\n\r\n        this.setState({showModal: false});\r\n    }\r\n\r\n    showMessageModal = (item) => {\r\n        this.setState({showModal: false});\r\n        this.messageModal = <MessageModal courseClass={item} student={this.state.student}/>;\r\n    }\r\n\r\n    getDialogTitle = () => {\r\n        return (this.state.oldClass.title + \" - \" + this.state.oldClass.classType);\r\n    }\r\n\r\n    render() {\r\n        let changelistDiv = null;\r\n        if (this.state.newClasses != null) {\r\n            changelistDiv = <div>\r\n                {\r\n                    this.state.newClasses.map((item, index) => (\r\n                        <div onClick={() => this.showMessageModal(item)}>\r\n                            {this.changelistItem(item)}\r\n                        </div>\r\n                    ))}\r\n            </div>;\r\n        }\r\n        return (<div>\r\n                <Dialog className=\"changelistDialog\" fullWidth='true' maxWidth='xs' open={this.state.showModal}\r\n                        onClose={this.exitChangelist}>\r\n                    <DialogTitle id=\"form-dialog-title\">\r\n                        <div>\r\n                            {this.getDialogTitle()}\r\n                        </div>\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        <DialogContentText>\r\n                            Choose what class you want to attend instead!\r\n                        </DialogContentText>\r\n                        {changelistDiv}\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this.exitChangelist} color=\"primary\">\r\n                            Back\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n                {this.messageModal}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ChangelistModal;"]},"metadata":{},"sourceType":"module"}