{"ast":null,"code":"import _extends from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/extends\";\nimport _classCallCheck from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Diana\\\\Facultate\\\\Year3\\\\PC\\\\ubb-protool-fe\\\\src\\\\components\\\\teacher\\\\TeacherCalendar.js\";\nimport React, { Component } from 'react';\nimport \"./teacherCalendar.css\";\nimport WeekCalendar from 'react-week-calendar';\nimport 'react-week-calendar/dist/style.css';\nimport moment from 'moment';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport CardContent from \"@material-ui/core/CardContent\";\nimport { students } from \"../../mockings/StudentMock\";\nimport Card from \"@material-ui/core/Card\";\nimport { getClassesForTeacher } from \"../../rest/userRest\";\nimport { connect } from \"react-redux\";\nimport { getStudentsListForClass } from \"../../rest/studentsListRest\";\nvar days = [1, 2, 3, 4, 5];\nvar styles = {\n  left: {\n    float: \"left\",\n    width: \"220px\"\n  },\n  main: {\n    //marginLeft: \"220px\",\n    backColor: \"black\"\n  }\n};\n\nvar Evvent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Evvent, _React$Component);\n\n  function Evvent(props) {\n    _classCallCheck(this, Evvent);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Evvent).call(this, props));\n  }\n\n  _createClass(Evvent, [{\n    key: \"render\",\n    value: function render() {\n      if (this.props.title !== undefined) {\n        return React.createElement(\"div\", {\n          className: \"class-cell\" + \" \" + this.props.classType,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"title-box\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, this.props.title), React.createElement(\"div\", {\n          className: \"type-box\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, this.props.classType)), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, this.props.classType === \"Laboratory\" ? React.createElement(\"span\", {\n          className: \"eventDetail\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, \"subgroup: \", this.props.subgroup.groupNumber, \"/\", this.props.subgroup.subgroupNumber) : this.props.classType === \"Seminar\" ? React.createElement(\"span\", {\n          className: \"eventDetail\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, \"group: \", this.props.subgroup.groupNumber) : null), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"eventDetail\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, \"room: \", this.props.classLocation, \" \")));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, this.props.title, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }), this.props.classType);\n      }\n    }\n  }]);\n\n  return Evvent;\n}(React.Component); // function convertDayToNumber(day) {\n//     if (day === \"Monday\") {\n//         return 1;\n//     }\n//     else if (day === \"Tuesday\") {\n//         return 2;\n//     }\n//     else if (day === \"Wednesday\") {\n//         return 3;\n//     }\n//     else if (day === \"Thursday\") {\n//         return 4;\n//     }\n//     else if (day === \"Friday\") {\n//         return 5;\n//     }\n// }\n\n\nvar TeacherCalendar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TeacherCalendar, _Component);\n\n  function TeacherCalendar(props) {\n    var _this;\n\n    _classCallCheck(this, TeacherCalendar);\n\n    console.log(\"hello\");\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TeacherCalendar).call(this, props));\n\n    _this.exitt = function () {\n      _this.setState({\n        showModal: false\n      });\n    };\n\n    _this.getStudentsByClassId = function (classId) {\n      return getStudentsListForClass(classId).then(function (students) {\n        _this.setState({\n          students: students\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.eventClicked = function (e) {\n      _this.setState({\n        selectedInterval: e\n      });\n\n      _this.setState({\n        showModal: true\n      });\n\n      _this.getStudentsByClassId(e.classId);\n    };\n\n    _this.event = function (params) {\n      return React.createElement(Evvent, {\n        title: params.title,\n        classType: params.classType,\n        subgroup: params.subgroup,\n        classLocation: params.classLocation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      });\n    };\n\n    _this.studentItem = function (item) {\n      var fullName = item.firstName + \" \" + item.lastName;\n      return React.createElement(Card, {\n        className: \"card\",\n        elevation: 0,\n        raised: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(CardContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        display: \"inline\",\n        className: \"leftside\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"Student name: \"), React.createElement(Typography, {\n        display: \"inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, fullName)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        display: \"inline\",\n        className: \"leftside\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Group: \"), React.createElement(Typography, {\n        display: \"inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, item.subgroup.groupNumber, \"/\", item.subgroup.subgroupNumber)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        display: \"inline\",\n        className: \"leftside\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, \"Email: \"), React.createElement(Typography, {\n        display: \"inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, item.email))));\n    };\n\n    _this.state = {\n      intervals: null,\n      showModal: false,\n      selectedInterval: null,\n      attendingStudentsList: null,\n      teacher: _this.props.loggedUser,\n      students: null\n    };\n    console.log(_this.state.teacher);\n    return _this;\n  }\n\n  _createClass(TeacherCalendar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      getClassesForTeacher(this.state.teacher).then(function (classes) {\n        console.log(classes);\n        var intv = [];\n\n        for (var i = 0; i < classes.length; i++) {\n          var c = {\n            classId: classes[i].classId,\n            title: classes[i].course.courseName,\n            subgroup: classes[i].subgroup,\n            teacher: classes[i].teacher,\n            classType: classes[i].classType,\n            classLocation: classes[i].classLocation,\n            classDuration: classes[i].classDuration,\n            start: moment({\n              month: 6,\n              day: days[classes[i].classDay - 1],\n              year: 2019,\n              h: classes[i].classHour\n            }),\n            end: moment({\n              month: 6,\n              day: days[classes[i].classDay - 1],\n              year: 2019,\n              h: classes[i].classHour + classes[i].classDuration\n            })\n          };\n          console.log(c);\n          intv.push(c);\n        }\n\n        _this2.setState({\n          intervals: intv\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var showList = null;\n\n      if (this.state.showModal && this.state.students != null) {\n        console.log(this.state.students);\n        showList = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, this.state.students.map(function (item, index) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 206\n            },\n            __self: this\n          }, _this3.studentItem(item));\n        }));\n      }\n\n      var config = _extends({}, this.state);\n\n      if (this.state.intervals != null) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"calendar-wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221\n          },\n          __self: this\n        }, React.createElement(WeekCalendar, {\n          id: \"wk\",\n          dayFormat: \"dddd\",\n          firstDay: moment({\n            month: 6,\n            day: 1,\n            year: 2019\n          }),\n          startTime: moment({\n            h: 8\n          }),\n          endTime: moment({\n            h: 20\n          }),\n          numberOfDays: 5,\n          scaleUnit: 60,\n          cellHeight: 75,\n          selectedIntervals: this.state.intervals,\n          eventComponent: this.event,\n          useModal: false,\n          onEventClick: this.eventClicked,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        }), React.createElement(Dialog, {\n          open: this.state.showModal,\n          onClose: this.exitt,\n          \"aria-labelledby\": \"form-dialog-title\",\n          fullWidth: \"true\",\n          maxWidth: \"md\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239\n          },\n          __self: this\n        }, React.createElement(DialogTitle, {\n          id: \"form-dialog-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240\n          },\n          __self: this\n        }, this.state.selectedInterval != null ? this.state.selectedInterval.title + \" \" : \"\", this.state.selectedInterval != null ? this.state.selectedInterval.classType : \"\"), React.createElement(DialogContent, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248\n          },\n          __self: this\n        }, React.createElement(DialogContentText, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          },\n          __self: this\n        }, \"Below you'll see information about the students attending this class\"), showList), React.createElement(DialogActions, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255\n          },\n          __self: this\n        }, React.createElement(Button, {\n          onClick: this.exitt,\n          color: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 256\n          },\n          __self: this\n        }, \"Back\")))));\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return TeacherCalendar;\n}(Component);\n\nexport default connect()(TeacherCalendar);","map":{"version":3,"sources":["C:/Users/Diana/Facultate/Year3/PC/ubb-protool-fe/src/components/teacher/TeacherCalendar.js"],"names":["React","Component","WeekCalendar","moment","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Typography","Box","CardContent","students","Card","getClassesForTeacher","connect","getStudentsListForClass","days","styles","left","float","width","main","backColor","Evvent","props","title","undefined","classType","subgroup","groupNumber","subgroupNumber","classLocation","TeacherCalendar","console","log","exitt","setState","showModal","getStudentsByClassId","classId","then","catch","err","eventClicked","e","selectedInterval","event","params","studentItem","item","fullName","firstName","lastName","email","state","intervals","attendingStudentsList","teacher","loggedUser","classes","intv","i","length","c","course","courseName","classDuration","start","month","day","classDay","year","h","classHour","end","push","showList","map","index","config"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\n\r\nimport \"./teacherCalendar.css\";\r\n\r\nimport WeekCalendar from 'react-week-calendar';\r\n\r\nimport 'react-week-calendar/dist/style.css';\r\nimport moment from 'moment';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport {students} from \"../../mockings/StudentMock\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport {getClassesForTeacher} from \"../../rest/userRest\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStudentsListForClass} from \"../../rest/studentsListRest\";\r\n\r\n\r\nconst days = [1, 2, 3, 4, 5]\r\n\r\n\r\nconst styles = {\r\n    left: {\r\n        float: \"left\",\r\n        width: \"220px\"\r\n    },\r\n    main: {\r\n        //marginLeft: \"220px\",\r\n        backColor: \"black\"\r\n\r\n    },\r\n\r\n};\r\n\r\nclass Evvent extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        if (this.props.title !== undefined) {\r\n            return (\r\n\r\n                <div className={\"class-cell\" + \" \" + this.props.classType}>\r\n                    <div className={\"title-box\"}>{this.props.title}</div>\r\n                    <div className={\"type-box\"}><b>{this.props.classType}</b></div>\r\n                    <div>\r\n                        {this.props.classType === \"Laboratory\" ? (\r\n                            <span className=\"eventDetail\">\r\n                            subgroup: {this.props.subgroup.groupNumber}/{this.props.subgroup.subgroupNumber}\r\n                            </span>\r\n                        ) : this.props.classType === \"Seminar\" ? (\r\n                            <span className=\"eventDetail\">\r\n                            group: {this.props.subgroup.groupNumber}\r\n                            </span>\r\n                        ) : null}\r\n                    </div>\r\n                    <div>\r\n                        <span className=\"eventDetail\">room: {this.props.classLocation} </span>\r\n                    </div>\r\n                </div>\r\n\r\n            );\r\n        } else {\r\n            return (\r\n\r\n                <div>\r\n                    {this.props.title}\r\n                    <br/>\r\n                    {this.props.classType}\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n// function convertDayToNumber(day) {\r\n//     if (day === \"Monday\") {\r\n//         return 1;\r\n//     }\r\n//     else if (day === \"Tuesday\") {\r\n//         return 2;\r\n//     }\r\n//     else if (day === \"Wednesday\") {\r\n//         return 3;\r\n//     }\r\n//     else if (day === \"Thursday\") {\r\n//         return 4;\r\n//     }\r\n//     else if (day === \"Friday\") {\r\n//         return 5;\r\n//     }\r\n// }\r\n\r\nclass TeacherCalendar extends Component {\r\n\r\n    constructor(props) {\r\n        console.log(\"hello\");\r\n        super(props);\r\n        this.state = {\r\n            intervals: null,\r\n            showModal: false,\r\n            selectedInterval: null,\r\n            attendingStudentsList: null,\r\n            teacher: this.props.loggedUser,\r\n            students: null,\r\n        };\r\n        console.log(this.state.teacher)\r\n    }\r\n\r\n    componentDidMount() {\r\n        getClassesForTeacher(this.state.teacher).then((classes) => {\r\n            console.log(classes);\r\n            var intv = []\r\n            for (var i = 0; i < classes.length; i++) {\r\n                const c = {\r\n                    classId: classes[i].classId,\r\n                    title: classes[i].course.courseName,\r\n                    subgroup: classes[i].subgroup,\r\n                    teacher: classes[i].teacher,\r\n                    classType: classes[i].classType,\r\n                    classLocation: classes[i].classLocation,\r\n                    classDuration: classes[i].classDuration,\r\n                    start: moment({month: 6, day: days[classes[i].classDay - 1], year: 2019, h: classes[i].classHour}),\r\n                    end: moment({\r\n                        month: 6,\r\n                        day: days[classes[i].classDay - 1],\r\n                        year: 2019,\r\n                        h: classes[i].classHour + classes[i].classDuration\r\n                    })\r\n                }\r\n                console.log(c);\r\n                intv.push(c)\r\n\r\n            }\r\n\r\n            this.setState({intervals: intv})\r\n        })\r\n\r\n    }\r\n\r\n\r\n    exitt = () => {\r\n\r\n        this.setState({showModal: false})\r\n    };\r\n\r\n    getStudentsByClassId = (classId) => {\r\n        return getStudentsListForClass(classId).then((students) => {\r\n            this.setState({students: students})\r\n        }).catch((err) => console.log(err));\r\n\r\n    }\r\n\r\n    eventClicked = (e) => {\r\n        this.setState({selectedInterval: e});\r\n        this.setState({showModal: true});\r\n        this.getStudentsByClassId(e.classId);\r\n    };\r\n\r\n    event = (params) => {\r\n\r\n        return <Evvent title={params.title} classType={params.classType} subgroup={params.subgroup}\r\n                       classLocation={params.classLocation}/>\r\n    };\r\n\r\n    studentItem = (item) => {\r\n        const fullName = item.firstName + \" \" + item.lastName;\r\n        return (\r\n            <Card className=\"card\" elevation={0} raised={true}>\r\n                <CardContent>\r\n                    <div>\r\n                        <Typography display=\"inline\" className=\"leftside\">Student name: </Typography>\r\n                        <Typography display=\"inline\">{fullName}</Typography>\r\n                    </div>\r\n                    <div>\r\n                        <Typography display=\"inline\" className=\"leftside\">Group: </Typography>\r\n                        <Typography\r\n                            display=\"inline\">{item.subgroup.groupNumber}/{item.subgroup.subgroupNumber}</Typography>\r\n                    </div>\r\n                    <div>\r\n                        <Typography display=\"inline\" className=\"leftside\">Email: </Typography>\r\n                        <Typography display=\"inline\">{item.email}</Typography>\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n        )\r\n    }\r\n\r\n\r\n    render() {\r\n        let showList = null;\r\n        if (this.state.showModal && this.state.students != null) {\r\n            console.log(this.state.students);\r\n            showList = <div>\r\n                {\r\n                    this.state.students.map((item, index) => (\r\n                            <div>\r\n                                {this.studentItem(item)}\r\n                            </div>\r\n                        )\r\n                    )\r\n                }\r\n\r\n            </div>\r\n        }\r\n\r\n        var {...config} = this.state;\r\n\r\n        if (this.state.intervals != null) {\r\n            return (\r\n                <div>\r\n                    <div className={\"calendar-wrapper\"}>\r\n                        <WeekCalendar\r\n                            id=\"wk\"\r\n                            dayFormat=\"dddd\"\r\n                            firstDay={moment({month: 6, day: 1, year: 2019})}\r\n                            startTime={moment({h: 8})}\r\n                            endTime={moment({h: 20})}\r\n                            numberOfDays={5}\r\n                            scaleUnit={60}\r\n                            cellHeight={75}\r\n                            selectedIntervals={this.state.intervals}\r\n                            eventComponent={this.event}\r\n                            useModal={false}\r\n\r\n                            onEventClick={this.eventClicked}\r\n                        />\r\n\r\n                        {/* The dialog which opens when an interval is clicked*/}\r\n                        <Dialog open={this.state.showModal} onClose={this.exitt} aria-labelledby=\"form-dialog-title\" fullWidth='true' maxWidth='md'>\r\n                            <DialogTitle id=\"form-dialog-title\">\r\n                                {this.state.selectedInterval != null ?\r\n                                    this.state.selectedInterval.title + \" \" : \"\"\r\n                                }\r\n                                {this.state.selectedInterval != null ?\r\n                                    this.state.selectedInterval.classType : \"\"\r\n                                }\r\n                            </DialogTitle>\r\n                            <DialogContent>\r\n                                <DialogContentText>\r\n                                    Below you'll see information about the students attending this class\r\n                                </DialogContentText>\r\n\r\n                                {showList}\r\n                            </DialogContent>\r\n                            <DialogActions>\r\n                                <Button onClick={this.exitt} color=\"primary\">\r\n                                    Back\r\n                                </Button>\r\n                            </DialogActions>\r\n                        </Dialog>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect()(TeacherCalendar);\r\n\r\n"]},"metadata":{},"sourceType":"module"}